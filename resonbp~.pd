#N canvas 516 153 715 464 10;
#X obj 15 197 inlet~;
#X text 14 180 signal;
#X text 213 174 centre freq;
#X obj 439 88 v b0\$0;
#X obj 439 111 v a0\$0;
#X obj 487 88 v a2\$0;
#X obj 487 111 v b1\$0;
#X obj 535 88 v b2\$0;
#X text 344 249 $x1 = signal in;
#X obj 330 348 clip~ -1 1;
#X obj 330 10 inlet;
#X text 366 9 Q;
#X obj 535 111 v omega\$0;
#X obj 583 88 v alphaq\$0;
#X obj 602 111 loadbang;
#X obj 602 132 samplerate~;
#X obj 602 153 / 2;
#X obj 602 174 v nyquist\$0;
#X floatatom 602 195 7 0 0 0 - - - 0;
#X obj 15 218 fexpr~ omega\$0 = $x2 * 3.14159265359/nyquist\$0 \; alphaq\$0 = sin(omega\$0) / (2*$x3) \; b0\$0 = alphaq\$0 + 1 \; a0\$0 = alphaq\$0 * $x3 / b0\$0 \; a2\$0 = -a0\$0 \; b1\$0 = 2*cos(omega\$0) / b0\$0 \; b2\$0 = (alphaq\$0 - 1) / b0\$0 \; a0\$0 * $x1 + a2\$0 * $x1[-2] + b1\$0 * $y8[-1] + b2\$0 * $y8[-2];
#X obj 330 369 outlet~;
#X text 344 262 $x2 = freq in;
#X text 344 275 $x3 = Q;
#X text 22 347 Adapted from ELSE externals' [resonant~] (https://github.com/porres/pd-else);
#X obj 172 175 inlet;
#X obj 330 195 clip~ 1 10000;
#X obj 330 174 sig~;
#X obj 340 34 loadbang;
#X obj 340 77 sel 0;
#X obj 340 56 \$2;
#X msg 340 98 1;
#X text 395 35 If \$2 = 0 \, send 1 to avoid divide by 0;
#X obj 172 197 sig~ \$1;
#X obj 330 327 *~ 0.01;
#X connect 0 0 19 0;
#X connect 9 0 20 0;
#X connect 10 0 26 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 19 7 33 0;
#X connect 24 0 32 0;
#X connect 25 0 19 2;
#X connect 26 0 25 0;
#X connect 27 0 29 0;
#X connect 28 0 30 0;
#X connect 28 1 26 0;
#X connect 29 0 28 0;
#X connect 30 0 26 0;
#X connect 32 0 19 1;
#X connect 33 0 9 0;
